 // hide/show top-menu


$(window).resize(function() {
  if($(window).width() >= 992) { 

  	$('.menu-main-menu-container').css('display','block');
    $('.menu-main-menu-en-container').css('display','block');
    $('#menu-item-22').addClass('item-hover');
    $('#menu-item-131').addClass('item-hover');
  }
  if($(window).width() < 992) { 

      $('.menu-main-menu-container').css('display','none');
      $('.menu-main-menu-en-container').css('display','none');
      $('#menu-item-22').removeClass('item-hover');
    $('#menu-item-131').removeClass('item-hover');
  	}  
});
$(window).ready(function() { 
	if($(window).width() >= 992) { 

  	$('.menu-main-menu-container').css('display','block');
    $('.menu-main-menu-en-container').css('display','block');
    $('#menu-item-22').addClass('item-hover');
    $('#menu-item-131').addClass('item-hover');
  }
  if($(window).width() < 992) { 

      $('.menu-main-menu-container').css('display','none');
      $('.menu-main-menu-en-container').css('display','none');
      $('#menu-item-22').removeClass('item-hover');
    $('#menu-item-131').removeClass('item-hover');
  	}  
});


$(document).ready(function(){
  $('.hamburger').click(function(){
    if ($('.menu-main-menu-container').css('display')== 'block'){
      $('.menu-main-menu-container').hide(200);
    }
    else{
      $('.menu-main-menu-container').show(200);
    }
  });
});

/* -------- clicked menus styles --------*/
 $(document).ready(function(){
  if($(window).width()>991){

    $( "#menu-main-menu>li>a" ).each(function() {
      if( $(this).attr("href") == window.location.href){
        $(this).parent('li').css({"border-bottom": "2px solid #FFF", "text-decoration":"none"});    
      }
    });



    $( "#menu-main-menu-en>li>a" ).each(function() {
      if( $(this).attr("href") == window.location.href){
        $(this).parent('li').css({"border-bottom": "2px solid #FFF", "text-decoration":"none"});    
      }
    });




    $( ".pages-menu #menu-main-menu>li>a" ).each(function() {
      if( $(this).attr("href") == window.location.href){
        $(this).parent('li').css({"border-bottom": "3px solid #ec2324", "text-decoration":"none", "background-color":"#f9f9f9"});    
      }
    });


 
    $( ".pages-menu #menu-main-menu-en>li>a" ).each(function() {
      if( $(this).attr("href") == window.location.href){
        $(this).parent('li').css({"border-bottom": "3px solid #ec2324", "text-decoration":"none", "background-color":"#f9f9f9"});    
      }
    });
  
  } 
});

$(document).ready(function(){
    $( "#menu-footer-menu>li>a" ).each(function() {
      if( $(this).attr("href") == window.location.href){
        $(this).css({"text-decoration":"none", "background-color":"#ea3e25"});    
      }
    });
  });


$(document).ready(function(){
    $( "#menu-footer-menu-en>li>a" ).each(function() {
      if( $(this).attr("href") == window.location.href){
        $(this).css({"text-decoration":"none", "background-color":"#ea3e25"});    
      }
    });
  });

$(document).ready(function(){
  $('.hamburger').click(function(){
    if ($('.menu-main-menu-en-container').css('display')== 'block'){
      $('.menu-main-menu-en-container').hide(200);
    }
    else{
      $('.menu-main-menu-en-container').show(200);
    }
  });
  });


/*--------- dropdown menu ------*/
$(document).ready(function(){


  $('#menu-item-22').click(function(event){
   event.stopPropagation();
    if ($('#menu-item-22 ul').css('display')== 'block'){
      $('#menu-item-22 ul').hide();
    }
    else{
      $('#menu-item-22 ul').show(200);
    }
   });


  $(window).click(function() {
    if ($('#menu-item-22 ul').css('display')== 'block'){
      $('#menu-item-22 ul').hide(200);
    }
  });

  $('#menu-item-22 ul').click(function(event){
    event.stopPropagation();
  });
});

/*--------- dropdown menu en------*/
$(document).ready(function(){

  $('#menu-item-131').click(function(event){
   event.stopPropagation();
    if ($('#menu-item-131 ul').css('display')== 'block'){
      $('#menu-item-131 ul').hide();
    }
    else{
      $('#menu-item-131 ul').show(200);
    }
   });


  $(window).click(function() {
    if ($('#menu-item-131 ul').css('display')== 'block'){
      $('#menu-item-131 ul').hide(200);
    }
  });

  $('#menu-item-131 ul').click(function(event){
    event.stopPropagation();
  });
});

/*---------pop up form----------*/
$(document).ready(function(){
  var propId = $('.property-id strong').text();
  var propName = $('.pages-title span').text();
  var propUrl = window.location.href;
  $('#prop-url').val(propUrl);
  $('#form-offer-id').val(propId);
  $('#prop-name').val(propName);

  $('.property-id').click(function(e){
    e.stopPropagation();
    $('.cf-by-id').show(100);
    $('body').css('overflow','hidden');
  });
  $(document).click(function(){
    $('.cf-by-id').hide(100);
    $('body').css('overflow','auto');
  });
  $('.cf-by-id .fa-times').click(function(){
    $('.cf-by-id').hide(100);
    $('body').css('overflow','auto');
  });
  $('.cf-by-id form').click(function(e){
    e.stopPropagation();
  });
  if($(".wpcf7-validation-errors").css('display')=="block"){
    $('.cf-by-id').show(100);
    $('body').css('overflow','hidden');
  }
});

/* hide emty fields */
$(document).ready(function(){
    $('.field-value').each(function(k,v){
        var val = $(v).text();        
        if(val[0] == ' '){
        $(this).parent('li').css('display','none');
        }
    });
});

$(document).ready(function(){
	$(".es-search__field--city .es-field__wrap").on('click',function(){
		var _locale = window.location.pathname.split('/')[1];
		var city = city_trans = '';
		if(_locale === 'en'){ city = 'Sofia'; city_trans = 'City'; }
		else { city = 'София'; city_trans = 'Град'; }

		var drop_a = $('a:contains("'+city+'")').filter(function(index)
		{
		    return $(this).text() === city;
		});
		var drop_city = $('a:contains("'+city_trans+'")').filter(function(index)
		{
		    return $(this).text() === city_trans;
		});
		var city_li = $(drop_a).closest('li');
		var city_trans_li = $(drop_city).closest('li');
		$(city_trans_li).after(city_li);
	});
});
