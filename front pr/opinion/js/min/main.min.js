jQuery(document).ready(function(e){function t(){e('.categories a[data-action="tab"]').unbind("click"),e('.categories a[data-action="tab"]').bind("click",function(){if(a()>767){var t=e(this),s=t.parent(),i=t.parents(".cat-menu");if(cat_row=t.parents(".categories"),cat_row.hasClass("cat_opened"))if(s.hasClass("active"))s.find("ul.sub-cat").fadeOut(500,function(){i.css("margin-bottom",0),s.find(".sub-cat-wrap").css("height",0)}),s.removeClass("active"),cat_row.removeClass("cat_opened"),setTimeout(function(){i.removeAttr("style"),s.find(".sub-cat-wrap").removeAttr("style"),s.find("ul.sub-cat").removeAttr("style")},1301);else{var c=cat_row.find("li.active .sub-cat-wrap"),n=cat_row.find("li.active .sub-cat");s.find(".sub-cat-wrap").show();var o=s.find("ul.sub-cat").innerHeight();s.find("ul.sub-cat").hide(),cat_row.find(".cat-menu > li.active").removeClass("active"),n.fadeOut(500,function(){i.css("margin-bottom",o),s.find(".sub-cat-wrap").show().css("height",o),c.css("height",o)}),setTimeout(function(){c.removeAttr("style")},1501),s.find(".sub-cat").delay(1500).fadeIn(500),s.addClass("active")}else if(e(".categories.cat_opened").length)e(".categories.cat_opened li.active .sub-cat").fadeOut(500,function(){e(".categories.cat_opened .cat-menu").css("margin-bottom",0),e(".categories.cat_opened li.active").find(".sub-cat-wrap").css("height",0),e(".categories.cat_opened .cat-menu").removeAttr("style"),e(".categories.cat_opened li.active").removeClass("active"),e(".categories.cat_opened").removeClass("cat_opened"),s.addClass("active"),cat_row.addClass("cat_opened");var t=s.find(".sub-cat-wrap").innerHeight();s.find(".sub-cat").hide(),i.css("margin-bottom",t),s.find(".sub-cat-wrap").show().css("height",t),s.find(".sub-cat").delay(1e3).fadeIn(500)});else{s.addClass("active"),cat_row.addClass("cat_opened");var o=s.find(".sub-cat-wrap").innerHeight();s.find(".sub-cat").hide(),i.css("margin-bottom",o),s.find(".sub-cat-wrap").show().css("height",o),s.find(".sub-cat").delay(1e3).fadeIn(500)}}else{var t=e(this),s=t.parent();s.hasClass("active")?(s.find(".sub-cat-wrap").stop(!0).slideUp(1e3),s.removeClass("active")):(e(".categories li.active .sub-cat-wrap").stop(!0).slideUp(1e3),e(".categories li.active").removeClass("active"),s.addClass("active"),s.find(".sub-cat-wrap").stop(!0).slideDown(1e3,function(){e("html,body").animate({scrollTop:t.offset().top-20},500)}))}return!1})}function a(){e("html").css("overflow","hidden");var t=e(window).width();return e("html").removeAttr("style"),t}a(),t(),e(window).resize(function(){a(),t()}),e(".sub-cat a").click(function(){return e(this).parent().toggleClass("active"),!1})});